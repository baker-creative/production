(()=>{var l=document,c=(t,s=l)=>s.querySelectorAll(t),n=(t,s=l)=>s.querySelector(t),r=t=>new Promise(s=>setTimeout(s,t));var f="https://uploads-ssl.webflow.com/65613e19f091189e21b07385/65613e1af091189e21b07402_Untitled-1.png",u="https://cdn.jsdelivr.net/gh/baker-creative/assets@main/fonts/",p=async t=>{if(!t)return alert("Font not defined for some elements in this palette. Sans serif will be used.");let s=t.split("-")[0],a=t.split(".")[0];if(!document.fonts.check(`1rem ${a}`)){let o=new FontFace(a,`url(${u}${s}/${t})`);try{await o.load(),document.fonts.add(o)}catch(d){return console.error(d),alert(`Font ${t} could not be loaded!`)}}return a};c("[data-font]").forEach(t=>{t.addEventListener("click",async()=>{$('[class*="d-heading"], [class*="d-text"], [class*="d-caption"], [class*="d-text-link"], .button').fadeTo("slow",.3);let s=JSON.parse(n(".link-data",t).innerText.trim());n("[data-switch-button=typography]").classList.add("is--loading"),await r(750);for(let[a,e]of Object.entries(s)){e.font||alert(`Font not defined for ${a} in this typeface. Sans serif will be used as a fallback.`);let o=e.font?await p(e.font):"";c(`.${a}`).forEach(d=>{d.style.cssText=`
					${o&&"font-family: "+o+", sans-serif;"}
          ${o&&e.weight&&"font-weight: "+e.weight+";"}
					${e.spacing&&"letter-spacing: "+e.spacing+";"}
          ${e.case.toLowerCase()!=="default"?"text-transform:"+e.case.toLowerCase()+";":""}
					${e.size&&"font-size: "+e.size+";"}
					${e.leading&&"line-height: "+e.leading+";"}
        `.replaceAll("undefined").replaceAll("null")})}$('[class*="d-heading"], [class*="d-text"], [class*="d-caption"], [class*="d-text-link"], .button').fadeTo("slow",1),await r(500),n("[data-switch-button=typography]").classList.remove("is--loading")})});var i=c("img",n(".page-track"));i.forEach(t=>{t.addEventListener("load",async()=>{$(t).fadeTo(1e3,1),await r(500),n("[data-switch-button=photos]").classList.remove("is--loading")})});c(".photo-list-link").forEach(t=>{t.addEventListener("click",()=>{let s=c("img",t);$(".page-track img").fadeTo(100,.3),n("[data-switch-button=photos]").classList.add("is--loading"),i.forEach(a=>{a.removeAttribute("srcset"),a.removeAttribute("data-updated")}),s.forEach((a,e)=>{let o=a.getAttribute("src");o&&(i[e].src=o,i[e].setAttribute("data-updated","true"))}),i.forEach(a=>{a.getAttribute("data-updated")||(a.src=f,a.setAttribute("data-updated","true"))})})});})();
